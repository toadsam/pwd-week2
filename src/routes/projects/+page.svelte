<script>
  // @ts-ignore
  let { data } = $props();      // { item, slug }
  let memo = $state('');

  $effect(() => {
    if (data.slug === 'memo') {
      const saved = localStorage.getItem('memo');
      if (saved) memo = saved;
    }
  });

  function save() {
    localStorage.setItem('memo', memo);
    alert('ğŸ’¾ ì €ì¥ ì™„ë£Œ!');
  }
</script>

<section class="card">
  <h2 style="font-size:1.8rem;">{data.item.title}</h2>
  <p>{data.item.body}</p>

  {#if data.slug === 'memo'}
    <textarea rows="6" bind:value={memo}></textarea>
    <button onclick={save}>ë©”ëª¨ ì €ì¥ ğŸ“</button>
    <p style="opacity:.7; font-size:.9rem">âš ï¸ ì´ ë©”ëª¨ëŠ” ë¸Œë¼ìš°ì € ë¡œì»¬ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤.</p>
  {/if}
</section>
